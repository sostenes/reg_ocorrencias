<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pt-br">

<head>
	<meta http-equiv="Content-Type"  content="application/xhtml+xml; charset=iso-8859-1" />
	<meta name="author" content="Leandro Vieira Pinho [ leandro@plugsites.net ]" />
	<meta name="language" content="pt-br" />
	
	<title>Exemplo da unidade: Valida&ccedil;&atilde;o de formul&aacute;rio</title>

	<script type="text/javascript" src="../../js/perform.js"></script>
	
	<style type="text/css" media="screen">
		/*<![CDATA[*/
		<!--
			@import "../../css/style.css";
		-->
		/*]]>*/
	</style>
<script type="text/javascript">
<!--
function validaForm(frm) {
// O paramêtro frm desta função significa: this.form, pois a chamada da função - validaForm(this), foi setada na tag form.

// Vamos verificar se o campo nome foi preenchido e se ele contém no mínio três caracteres.
if(frm.nome.value == "" || frm.nome.value == null || frm.nome.value.length < 3) {
	// Exibiremos um alerta, caso o campo esteja vazio.
	alert("Por favor, informe-nos o seu nome.");
	// Vamos setar um focus no campo.
	frm.nome.focus();
	// Bloqueando o envio do form.
	return false;
}

// O campo e-mail precisa conter: "@", "." e não pode estar vazio.
if(frm.email.value.indexOf("@") == -1 || frm.email.value.indexOf(".") == -1 || frm.email.value == "" || frm.email.value == null) {
	alert("Por favor, informe-nos um e-mail válido.");
	frm.email.focus();
	return false;
}

// O usuário precisa selecionar um dos dois radio buttons - Masculino ou Feminio.
escolhaSexo = -1; // Um valor negativo default (padrão) que significa que nada foi escolhido ainda.
// Um loop entre os radios button com o mesmo nome: sexo. Veja a lógica.
// x = frm.sexo.length -1 é a mesma coia que: x = 2 - 1, que resultaria em 1.
// x > -1 significa que o valor de x não pode ser igual a -1 e sim maior, pq -1 significa que nada foi escolhido.
// x-- um decremento do valor x, seria algo como: x = 1, x = 0 e pára pois x não pode ser -1.
for (x = frm.sexo.length -1; x > -1; x--) {
	// checked quer dizer selecionado, então verifico se o primeiro (0) ou o segundo (1) radio foi selecionado (checked).
	if(frm.sexo[x].checked) {
		// Seta o valor de x a variável escolhaSexo;
		escolhaSexo = x;
	}
}
// Se nenhuma das opçõs - Masculino ou Feminino forem escolhidas, exibo uma alerta e bloqueio o envio.
if(escolhaSexo == -1) {
	alert("Qual o seu sexo? Informe-nos.");
	frm.sexo[0].focus();
	return false;
}

// Validar a profissão; quero que o usuário escolha uma entre as três opções - Programador, Designer e Web Writer. E não quero que ele escolha selecione... ou todos.
if(frm.prof.value == "" || frm.prof.value == "Todos") {
	alert("No momento, precisamos de especialistas em suas áreas, diga-nos sua profissão entre as três disponivéis:\nProgramador;\nDesigner;\nWeb Writer.");
	frm.prof.focus();
	return false;
}

// Validar a textarea é como valir um campo de texto simples.
if(frm.sobre.value == "" || frm.sobre.value == null) {
	alert("Por favor, conte-nos um pouco sobre você.");
	frm.sobre.focus();
	return false;
}

// Verificar se o checkbox foi selecionado.
if(frm.concordo.checked == false) {
	alert("Você precisa estar de acordo com nossa política de uso.");
	frm.concordo.focus();
	return false;
}

// Como tudo está correto, vamos permitir o envio do formulário.
alert('Você preencheu o formulário como esperávamos; obrigado.');
return true;
}
//-->
</script>
<style type="text/css">
label span {
	text-decoration: underline;
	font-weight: bold;
}
label.block {
	display: block;
	margin-bottom: 5px;
}
</style>
</head>

<body>

<div id="global">

<h1 id="header">Web Sites com Ajax</h1>

<div id="conteudo">
	<h3 id="txtDemo">Introdução</h3>

	<div id="curso">
		
		<h2>Exemplo da unidade: Validação de Formulário</h2>
		
		<noscript>
			<p>O exemplo está impossibilitado de ser executado.</p>
			<p>Motivo: o JavaScript do seu browser está desativado.</p>
			<p><a href="../../noscript.htm" title="Ative o JavaScript do seu browser">Saiba como ativá-lo.</a></p>
		</noscript>
		
		<p>Script utilizado:</p>
		
		<code>			
			&lt;script type=&quot;text/javascript&quot;&gt;<br />
			&lt;!--<br />
			// Vide código fonte<br />
			//--&gt;<br />
			&lt;/script&gt;		
		</code>			
		
		<h4>Formulário utilizado para o teste de validação.</h4>
		
		<form name="frmTeste" method="post" action="#" onsubmit="return validaForm(this);">
			<p>
				<label for="nome"><span>N</span>ome:</label>
				<input type="text" name="nome" id="nome" accesskey="n" tabindex="1" />
			</p>
			<p>
				<label for="email"><span>E</span>mail:</label>
				<input type="text" name="email" id="email" accesskey="e" tabindex="2" />
			</p>
			<p>
				Sexo: <input type="radio" name="sexo" value="masculino" id="masc" accesskey="m" tabindex="3" /> <label for="masc"><span>M</span>asculino</label> <input type="radio" name="sexo" value="feminino" id="fem" accesskey="f" tabindex="4" /> <label for="fem"><span>F</span>eminino</label>
			</p>
			<p>
				Profissão: 
				<select name="prof" tabindex="5">
					<option value="">Selecione...</option>
					<option value="Programador">Programador</option>
					<option value="Designer">Designer</option>
					<option value="Web Writer">Web Writer</option>
					<option value="Todos">Todos</option>
				</select>
			</p>
			<p>
				<label for="sobre" class="block"><span>S</span>obre você:</label>
				<textarea name="sobre" id="sobre" cols="35" rows="6" accesskey="s" tabindex="6"></textarea>
			</p>
			<p>
				<input type="checkbox" name="concordo" id="concordo" value="sim" accesskey="c" tabindex="7" /> <label for="concordo"><span>C</span>oncordo com política de uso.</label>
			</p>
			<p>
				<input type="submit" name="sbt" value="Enviar" tabindex="8" />
			</p>
		</form>

		<p>
			<a href="../../1.13.htm" onclick="javascript:history.go(-1); return false;" title="Voltar a unidade Loop.">&laquo; Voltar a unidade Loop.</a>
		</p>

	</div>
</div>
<!-- conteudo -->

	<div id="sideBar">
		<ul id="menu">
			<li><a href="../../index.htm" class="itemMenu" title="Introdução do curso">Introdução</a></li>
			<li><a href="../../1.htm" class="itemMenu" id="linkCap1" title="JavaScript">Capítulo 1</a>
				<ul id="cap1">
					<li class="titCap">JavaScript</li>
					<li><a href="../../1.htm" title="Prefácio">Prefácio</a></li>
					<li><a href="../../1.1.htm" title="Introdução ao JavaScript">Introdução ao JavaScript</a></li>
					<li><a href="../../1.2.htm" title="Variáveis">Variáveis</a></li>
					<li><a href="../../1.3.htm" title="Operadores">Operadores</a></li>
					<li><a href="../../1.4.htm" title="Condições">Condições</a></li>
					<li><a href="../../1.5.htm" title="Popup Boxes">Popup Boxes</a></li>
					<li><a href="../../1.6.htm" title="Loops">Loops</a></li>
					<li><a href="../../1.7.htm" title="Funções">Funções</a></li>
					<li><a href="../../1.8.htm" title="Eventos">Eventos</a></li>
					<li><a href="../../1.9.htm" title="Array">Array</a></li>
					<li><a href="../../1.10.htm" title="Data">Data</a></li>
					<li><a href="../../1.11.htm" title="String">String</a></li>
					<li><a href="../../1.12.htm" title="Math">Math</a></li>
					<li><a href="../../1.13.htm" title="Validação de formulários">Validação de formulários</a>
				</ul>
			</li>
			<li><a href="../../2.htm" class="itemMenu" id="linkCap2" title="DOM e DHTML">Capítulo 2</a>
				<ul id="cap2">
					<li class="titCap">DOM e DHTML</li>
					<li><a href="../../2.htm" title="Prefácio">Prefácio</a></li>
					<li><a href="../../2.1.htm" title="Introdução ao DOM">Introdução ao DOM</a></li>
					<li><a href="../../2.2.htm" title="Introdução ao DHTML">Introdução ao DHTML</a></li>
					<li><a href="../../2.3.htm" title="Método: getElementById">Método: getElementById</a></li>
					<li><a href="../../2.4.htm" title="Método: getElementsByTagName">Método: getElementsByTagName</a></li>
					<li><a href="../../2.5.htm" title="Método: style">Método: style</a></li>
					<li><a href="../../2.6.htm" title="Método: className">Método: className</a></li>
					<li><a href="../../2.7.htm" title="Método: innerHTML">Método: innerHTML</a></li>
					<li><a href="../../2.8.htm" title="Método: appendChild">Método: appendChild</a></li>
					<li><a href="../../2.9.htm" title="Método: createElement">Método: createElement</a></li>
					<li><a href="../../2.10.htm" title="Método: insertBefore">Método: insertBefore</a></li>
					<li><a href="../../2.11.htm" title="Método: insertAfter">Método: insertAfter</a></li>
					<li><a href="../../2.12.htm" title="Método: setAttribute">Método: setAttribute</a></li>
					<li><a href="../../2.13.htm" title="Método: getAttribute">Método: getAttribute</a></li>
	
				</ul>
			</li>
			<li><a href="../../3.htm" class="itemMenu" id="linkCap3" title="JavaScript não-obstrutivo">Capítulo 3</a>
				<ul id="cap3">
					<li class="titCap">JavaScript não-obstrutivo</li>
					<li><a href="../../3.htm" title="Prefácio">Prefácio</a></li>
					<li><a href="../../3.1.htm" title="Introdução ao JavaScript não-obstrutivo">Introdução ao JavaScript não-obstrutivo</a></li>
				</ul>
			</li>
			<li><a href="../../4.htm" class="itemMenu" id="linkCap4" title="Ajax">Capítulo 4</a>
				<ul id="cap4">
					<li class="titCap">Ajax</li>
					<li><a href="../../4.htm" title="Prefácio">Prefácio</a></li>
					<li><a href="../../4.1.htm" title="Introdução ao Ajax">Introdução ao Ajax</a></li>
					<li><a href="../../4.2.htm" title="O Objeto XMLHttpRequest">O Objeto XMLHttpRequest</a>
					<li><a href="../../4.3.htm" title="Pés no chão">Pés no chão</a>
				</ul>
			</li>
			<li><a href="../../5.htm" class="itemMenu" id="linkCap5" title="Projeto final">Capítulo 5</a>
				<ul id="cap5">
					<li class="titCap">Projeto final</li>
					<li><a href="../../5.htm" title="Prefácio">Prefácio</a></li>
					<li><a href="../../5.1.htm" title="Introdução ao Projeto final">Introdução ao Projeto final</a></li>
					<li><a href="../../5.2.htm" title="Tabela do banco de dados">Tabela do banco de dados</a></li>
					<li><a href="../../5.3.htm" title="Visão geral">Visão geral</a></li>
					<li><a href="../../5.4.htm" title="Visão geral sobre as páginas">Visão geral sobre as páginas</a></li>
					<li><a href="../../5.5.htm" title="Compreendendo o espírito da 'coisa'">Compreendendo o espírito da 'coisa'</a></li>
					<li><a href="../../5.6.htm" title="Compreendendo a página index.php">Compreendendo a página index.php</a></li>
					<li><a href="../../5.7.htm" title="Compreendendo a página actions.php">Compreendendo a página action.php</a></li>
					<li><a href="../../5.8.htm" title="Compreendendo a página formulario.php">Compreendendo a página formulario.php</a></li>
					<li><a href="../../5.9.htm" title="Compreendendo a página relatorio.php">Compreendendo a página relatorio.php</a></li>
					<li><a href="../../5.10.htm" title="Compreendendo a página comportamentos.js">Compreendendo a página comportamentos.js</a></li>
					<li><a href="../../5.11.htm" title="Considerações finais">Considerações finais</a></li>			
				</ul>
			</li>
			<li><a href="../../6.htm" class="itemMenu" id="linkCap6" title="Bibliografia">Bibliografia</a>
				<ul id="cap6">
					<li class="titCap">Bibliografia</li>
					<li><a href="../../6.htm" title="">Referências bibliográficas</a></li>
				</ul>
			</li>
		</ul>
		<p id="changeFontSize"><a href="javascript:changeFontSize();" title="Alterar o tamanho da fonte">&raquo; Tamanho da fonte</a></p>
	</div>
	<!-- / Sidebar -->
	
<div id="frameScroll">
	<a href="#" title="Ocultar / Exibir o menu" id="optFrameScroll">
		<img src="img/icn/icone_frame_scroll_hide.jpg" width="6" height="50" alt="" />
	</a>
</div>

<div id="rodape">

</div>
<!-- Rodape -->

</div>
<!-- / Global -->

</body>
</html>